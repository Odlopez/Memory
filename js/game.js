"use strict";!function(){var n=document.querySelector(".field"),o=document.querySelector(".start"),i=document.querySelector(".menu__item--end"),c=document.querySelector(".menu__item--points"),s=document.querySelector(".menu__points"),l={},r={},d={},a=0,u=function(t){Object.keys(t).forEach(function(e){delete t[e]})},m=function(e){for(var t in l)if(l[t].element===e)return void("false"===(n=l[t]).element.dataset.shirt?r[n.number]=l[n.number]:delete r[n.number]);var n},y=function(e,t,n){if(e){for(var o in r)d[o]=r[o],t(l[o].element),delete l[o],Object.keys(l).length||n(window.constants.SUCCESSFUL_MESSAGE,a);a+=Object.keys(l).length*window.constants.POINT_COEFFICIENT,s.textContent=a}else a-=Object.keys(d).length*window.constants.POINT_COEFFICIENT,s.textContent=a};window.game={logic:function(e,t){m(e);var n=Object.keys(r);2===n.length&&(r[n[0]].URL===r[n[1]].URL?(y(!0,t.delete,t.popup),u(r)):(document.removeEventListener("click",t.callback),setTimeout(function(){t.rotate(r[n[0]].element,r[n[0]]),t.rotate(r[n[1]].element,r[n[1]]),y(!1),u(r),document.addEventListener("click",t.callback)},window.constants.HANG_TIME)))},cardDeck:l,openCards:r,guessedCards:d,points:a,new:function(t){return function(){for(var e in n.innerHTML="",o.style.display="none",i.style.display="block",c.style.display="block",s.textContent=0,u(l),u(r),u(d),a=0,window.cards.make(),l)window.rotate(l[e].element,l[e]);document.removeEventListener("click",t),setTimeout(function(){for(var e in l)window.rotate(l[e].element,l[e]);document.addEventListener("click",t)},window.constants.CARDS_DISPLAY_TIME)}},init:function(){n.innerHTML="",o.style.display="flex",i.style.display="none",c.style.display="none",style.style.display="none",s.textContent=0,u(m)}}}();